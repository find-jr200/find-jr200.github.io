<!DOCTYPE html>
<html>
<head>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-18578300-4"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-18578300-4');
</script>
<meta charset="UTF-8">
<meta http-equiv="content-language" content="ja">
<title>JR2Rescue</title>
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<link rel="stylesheet" media="screen and (max-width:480px)" href="jr_m.css">
<link rel="stylesheet" media="screen and (min-width:481px)" href="jr.css">

<style type="text/css">
.auto-style1 {
	text-decoration: underline;
}
</style>
</head>
<body>
<div class="Main">
<nav>
<a href="index.html"><img src="images/top.png" width="100" height="50" alt="TOP"></a> 
</nav>

<h1>JR2Rescue</h1>

<p>　JR2Rescue は JR-200 でプログラムなどを記録した WAVファイルをCJR 
形式に変換したり、その他のフォーマットに変換するフリーソフトです。</p>

	<ul>
		<li>必要環境： Version 0.5.1. 以上　.net Framework 4.7.2 以上 　／　Version 0.4.2 以下　.net Framework 3.5 以上</li>
		<li>読み込み可能 WAV ファイル：　サンプリング周波数　22kHz～48kHz、8bit または 16bit 量子化。チャネル数 1または2。リニア PCM のみ。</li>
	</ul>

<p><strong>※　このプログラムは十分な検証がされていません。ユーザー環境に有害な影響を与えるようなことはしていないつもりですが、いかなる損害が生じても当方は一切補償しません。了解の上ご利用下さい。</strong></p>

<h4>■最新版　JR2Rescue Version 0.6.2</h4>
	<p>
	<a href="https://github.com/find-jr200/JR2Rescue/blob/main/JR2Rescue0_6_2.zip">https://github.com/find-jr200/JR2Rescue/blob/main/JR2Rescue0_6_2.zip</a> (208KB)</p>
	<p><span lang="ja">　ダウンロードした</span>JR2Rescue<span lang="en-US">
	</span><span lang="ja">を実行しようとすると「</span><span lang="en-US">Windows </span>
	<span lang="ja">によって</span><span lang="en-US"> PC </span><span lang="ja">
	が保護されました。」「実行しない」と表示されます。これは実行プログラムに署名がないせいらしいのだが、署名をつけるための諸々をする気はないので、ここは信用してもらって「詳細情報」－「実行」を選んでもらうしかありません。あしからず。</span></p>
<p>　このプログラムを実行してのバグレポートなどは掲示板またはメール（アドレスはトップページの下の方にあります）にてお願いします。また、読込成功してベーマガプログラムや市販ソフト等のサルベージに成功した方は、よかったらゲーム画面のキャプチャを数点メールしていただけるとうれしいです。当サイトの Software コーナーで紹介させていただきます。</p>

<h3>更新履歴</h3>
	<p>2025.2.23 JR2Rescue 0.6.2 (208KB)</p>
	<ul>
		<li>CJR→WAV 機能で 44.1kHz、モノラル、16bit、2400ボーの WAV が正常に作成されない問題を修正しました。</li>
	</ul>
	<p>2025.1.4 JR2Rescue 0.6.1</p>
	<ul>
		<li>WAV→JR2機能追加　これに関係して JR2 フォーマットをバージョンアップしています。詳細は<a href="aboutjr2format.html">こちら</a>。</li>
		<li>JR2→WAV機能のうち、22KHzWAV作成機能削除（22kHzでは周波数のずれが大きいため）</li>
		<li>CJR→JR2機能に「ボーレート指定の上書き」ON/OFF機能の追加</li>
	</ul>
	<p>　「ボーレート指定の上書き」ON/OFF機能については下記の「<a href="#4">アプリケーションの詳細 4. CJR→JR2</a>」をよく読んだうえで使用してください。</p>
	<p>2024.2.18&nbsp; 
	<a href="https://github.com/find-jr200/JR2Rescue/blob/main/JR2Rescue0_5_1.zip">JR2Rescue 0.5.1</a> (204KB)</p>
	<ul>
		<li>WAV 出力フォーマットを 44.1/48kHz、8/16bit、モノ/ステレオも選べるようにしました。</li>
		<li>実験的機能として、JR-300 のテープの CJR, BIN 化機能を追加ました。</li>
		<li>アプリケーションアイコンを変更しました。</li>
		<li>動作対象 .net framework が 4.7.2以上になりました。</li>
	</ul>
	<p>2021.11.13 
	<a href="https://github.com/find-jr200/JR2Rescue/blob/main/JR2Rescue0_4_2.zip">JR2Rescue 0.4.2</a> (46KB)</p>
	<ul>
		<li>WAV→CJR 機能が動作しない不都合を修正しました。</li>
		<li>WAV→CJR タブにある、モトローラS フォーマットでの出力機能を削除しました。</li>
	</ul>
	<p>2020.8.15 JR2Rescue 0.4.1</p>
	<ul>
		<li>JR2 フォーマット→ WAV ファイルの変換機能を追加しました。</li>
		<li>マルチ CJR ファイルの作成機能を追加しました。マルチ CJR とは何かついては下の方にある「5. マルチCJR」をご覧ください。</li>
		<li>.net Framework 3.5 以上の対応になりました。</li>
		<li>
		英語メニュー、メッセージに対応しました。そのため日本語リソースが入ったフォルダが新たに含まれています。このフォルダを削除すると英語表示になるので注意してください。</li>
	</ul>

<p>2017.9.30 
<a href="https://github.com/find-jr200/JR2Rescue/blob/main/JR2Rescue0_3_1.zip">JR2Rescue 0.3.1</a> (22KB)</p>
	<ul>
		<li>CJR→JR2 変換機能を追加しました。</li>
		<li>CJR→WAV において、リーダー、インターミッションの長さを実機の出力に近づけました。</li>
	</ul>
	<p>2017.1.8 JR2Rescue 0.2.4 公開</p>

	<ul>
		<li>WavSpectraで録音したファイルを読み込むと100%解析に失敗することがある事象を解消</li>
		<li>ファイルのドラッグ＆ドロップに対応</li>
		<li>エラーメッセージの一部見直し</li>
	</ul>
	<p>2009.6.22 JR2Rescue 0.2.3 公開</p>

<p>　エミュのメモリダンプ→CJR機能でコードによってはプログラムサイズを正しく設定していないため、実行後LISTを実行したときなどに異常動作してしまうケースの修正。</p>

<p>2007.12.3 JR2Rescue 0.2.2 公開</p>

<p>　ボリュームを一度も変更しない状態で CJR→WAV 化すると、異常な WAV ファイルが作成されてしまうバグを修正。</p>

<p>2007.11.28 JR2Rescue 0.2.1 公開</p>

<ul>
  <li>CJR→WAV 作成時に音量の設定を追加しました。（従来は100%固定）。　ボリュームを0にすると無音の WAV が作成されるので注意。</li>
  <li>バイナリファイルを CJR 化する機能を追加しました。Windows 
  上などでユーザー定義文字を作成したり、マシン語プログラムを作成したものを某エミュに読み込ませたいときに使います。もちろん CJR 化したファイルを CJR→WAV 
  化すれば、実機で使うこともできます。CJR 
  ファイルはマシン語形式ですから、エミュ・実機で読み込む時には必ず「MLOAD」してください（LOAD ではダメ）。</li>
  <li>WAV 読込パラメータ初期値を少々変更しました。とくに大きな影響はないと思います。なお、WAV の解析ロジックはいっさい変更していません。</li>
</ul>

<h3>インストール／アンインストール</h3>

<h4>インストール</h4>

<p>　ZIP ファイルを解凍したら、JR2Rescue.exe と ja フォルダをお好みの場所に移すだけです。</p>

<h4>アンインストール</h4>

<p>　JR2Rescue.exe と ja フォルダを削除するだけです。現状ではレジストリ、設定ファイルなどは使っていません。</p>

<h3>WAV形式での録音テクニック</h3>

<p>　WAV のフォーマットは 22KHz8 ビット・モノラルで十分です。内部処理を8 
ビット固定にしているので16ビットで録音してもメリットはありません。一応48KHz, 16bit, ステレオでの動作確認はしたけど、それ以上の 96kHz, 
24bit とかは無意味なのではねます。</p>

<p>　ステレオでもいいけど、左右の平均を取るだけでメリットありません。録音する際の秘訣は出来るだけ大きな音で録音すること。<strong>波形がクリップしても構いません</strong>。</p>

<p>　例えば下の波形は、市販ソフト「カーレース」のオリジナルテープを読み出した波形の一部です（再生はオーディオ用デッキ）</p>

<p><img alt="" src="images/carracewav.png" width="500" height="80"></p>

<p>
　たいていのテープでは、このように2400Hzの波形が1200Hzにくらべて小さくなっているようなので、このままだとうまく読み込みない可能性が高くなります。こんなときのために、JR2Rescue 
には飽和度調整機能があるのですが、できれば録音するときから波高をならしておきましょう。そのためには1200Hz 
の波形をクリップさせてしまえばオッケー。もともと実機の出力も SIN ウェーブをクリップしたような波形なのでそれで問題ありません。</p>

<p>
<br>
<img alt="" src="images/wavsample.png" width="500" height="73"><br>
理想的な録音状態</p>

<p>
　また、再生するデッキは出来るだけ走行が安定しているものを。当時はオーディオ用より専用データレコーダがいいとか言われていた気がするけど、この取り込みに関する限り、大事なのは一に出力の安定、二に走行の安定（ワウ・フラッターが少ないこと）。理想を言えばモノラルヘッドを搭載した、クローズドループ・デュアルキャプスタンデッキ、みたいな代物が欲しい
ところですが、そんなものは多分ないのでオーディオ用デッキでいいでしょう。今どきのどこ製かわからないようなラジカセ（みたいなもの）は正直怖すぎる。</p>

<p>
<strong>　現状ではワウ・フラッター補正機能や速度補正機能のようなものは実装していません。</strong></p>

<p>
　ただし、ステレオヘッドで読み込むと不安定になってしまうケースも十分考えられるので、その場合はモノラルヘッドを搭載したプレーヤの方がうまくいく可能性もあります。その辺は色々試してみて
ください。 
もちろん当時記録に使用したデータレコーダが今も調整完璧で動く、というならそれが理想ですが。</p>

<h2>アプリケーションの詳細</h2>

<h3 id="1">1. WAV→CJR</h3>

<p>　カセットなどに記録したプログラム・データを CJR 形式や、ベタのバイナリ形式にします。</p>

<p><img alt="" height="362" src="images/jr2r_1.png" width="497"></p>

<p>1.　入力 WAV ファイルと機種を指定し、「WAV読込」を押します。「読込に失敗しました」とダイアログが出る場合は、WAV 
解析に失敗しているので、飽和度、スレッショルドレベルを変更してみます。</p>

<p><strong>【注意】</strong>　JR-300 の CJR, BIN 
化機能は実験的機能です。機種の指定を間違うと「変換が正常に終了しました」とメッセージが出ても正常なデータは生成されません。</p>
	<p>・　飽和度</p>

<p>
　トラックバーを最小にした状態が、「入力＝出力」、つまり飽和度調整をしない状態です。バーを上げて行くに従い飽和度が高くなります。その様子は右のグラフの緑色の線で確認できます。通常はグラフが半分くらいの位置で飽和するようにしておけばいいでしょう（初期値）。</p>

<p>　録音された波形のムラが大きい場合、録音レベルが小さい場合は少しずつ上げてみてください。ただし上げすぎるとノイズを拾うようになり誤動作の原因になります。</p>

<p>・　スレッショルドレベル</p>

<p>　グラフ上の赤線で表されます。この値を基準に 0/1 
を判断します。この値は基本的に初期値のままにしておいてください。飽和度と併用する限りあまり意味を持ちません。何らかの理由で飽和度調整を使いたくない場合はこの値を調整してみてください。</p>

<p>　</p>

<p>2. 
CJR, WAV に関して「WAV読込」に成功した場合は「書き出し」のボタンが有効になります。出力フォーマットを選択して「書き出し」ボタンを押してください。異なったフォーマットを立て続けに書き出すこともできます。JR2 
の場合は「JR2 変換」を押すだけで変換し書き込みます。</p>

<p>・　CJR　某エミュレータのテープフォーマット。</p>

<p>・　BIN　CJR 形式から、カセットテープに記録するための情報を抜き去ったベタのバイナリ形式。例えば MSAVE 
したファイルなら、バイナリのデータのみが書き出されるので、ROM を MSAVE して Windows 上で解析したい、なんて時に使う。</p>
	<p>・　JR2　WAV を直接 JR2 
	にしたいときに使用します。通常のフォーマットに対しても使用できますが、この場合チェックサムがあっているかどうかのチェックは行わないので、特殊フォーマットのテープに対してのみ使用することをお勧めします。JR2 
	に変換後に「変換が正常に終了しました」とダイアログが出ても正常に LOAD 出来るとは限りません。</p>
	<p>・　2400ボーに固定（CJR）　<strong>通常は必ずチェックした状態で使用してください</strong>。ボーレート指定が600ボーになっていると海外製エミュレータでロードできません。特殊な理由で600ボーに指定された 
	CJR を作りたいとき、ボーレート指定がない特殊フォーマットの場合のみチェックを外してください。</p>
	<p>・　波形補正（JR2）　読み込んだ波形を 1200Hz か 2400Hz 
	になるように補正します。通常はチェックした状態で変換し、それでは正常に読み込みできない場合はチェックを外して試してみてください。</p>

<h3 id="2">2. CJR→WAV</h3>

<p>　CJR 形式のファイルから実機で読み込める WAV ファイルを生成します。</p>

<p><img alt="" height="362" src="images/jr2r_2.png" width="497"></p>

<p>　入力 CJR ファイルに変換元のファイルを指定し、PCM フォーマット、600baud / 2400baud を選択して「WAVに変換」を押してください。通常は 
2400baud を選択すればいいでしょう。</p>

<h3 id="3">3. JR2→WAV</h3>
	<p>JR2 ファイルを WAV ファイルに変換します。</p>
	<p><img alt="" height="362" src="images/jr2r_3.png" width="497"></p>
	<p><strong>【注意】 WAV→JR2 機能で作成した JR2 ファイルを再び WAV にすることはできません。大音量のノイズが記録されている可能性があり、再生するとスピーカーなどを破損したり聴覚にダメージを与える可能性があるためです。</strong></p>
	<p>入力 JR2 ファイルと出力 WAV ファイルを指定し、PCM フォーマットを選択して「WAVに変換」を押してください。</p>
	<p>WAV 化した際に JR2 
	ファイルにもともと付加してあるブランクでは正常に読み込めない場合は「ブランク拡張」にチェックを入れてください。プログラム、データ間のブランクが5秒程度になります（もともとのブランクがそれより長い場合はそのままになります）。ただし、もともとの 
	JR2 ファイルがブランクなしで作成されている場合は、「ブランク拡張」にチェックを入れても拡張されません。その場合は JR2 
	ファイルをブランクありで作り直してください。</p>

<h3 id="4">4. CJR→JR2</h3>
	<p>　CJR ファイルを JR2 フォーマットに変換します。</p>
	<p><img alt="" height="362" src="images/jr2r_4.png" width="497"></p>
	<p>出力ファイルについて、</p>
	<p>既存のファイルを指定した場合　→　末尾に追記</p>
	<p>存在しないファイルを指定した場合　→　新規作成</p>
	<p>となることに注意してください。新規作成したい場合は直接フルパスでテキストボックスに入力するか、「参照」を押してフォルダを選択し、ファイル名ボックスに作成するファイル名を入力してください。</p>
	<p>
	　「付加するブランク」は、海外製ソフトなどでブランクを付加しないと正常にロードできなくなるものに必要です。具体的には「シュワッシュバックラー」など、コムパックから発売された海外製ゲームが該当します。これらのゲームを 
	JR2 化する場合は最低でも 1000 から 1500 
	バイト以上のブランクを指定してください（多い分には問題なし）。必要なブランクはソフトによって異なりますが、シュワッシュバックラーは 1500 
	バイト、それ以外は 1000 バイトで試してください。それでも正常にロードできない場合はさらにブランクを増やしてみてください。</p>
	<p>
	●ボーレート指定について</p>
	<p>　通常フォーマットのテープについては、 JR2 ファイルを VJR-200 で読み込む限り 600 ボーと 2400 
	ボーで精度に差はないので、特殊な実験目的などを除いて 600 ボーを選択する意味はありません。</p>
	<p>　ただし<strong>一部の海外製特殊フォーマットのソフトに関しては 2400 
	ボーではロードエラーになるため、600ボーで作成する必要があります</strong>。</p>
	<p>　「ボーレート指定の上書き」ON/OFF機能は特殊フォーマットの CJR 
	を追加する時のみ利用する機能です。通常の CJR はオンにしてボーレート指定バイト（ヘッダブロックの24バイト目）を指定ボーレートに書き換えますが、<strong>ヘッダブロックがない特殊な 
	CJR　を書き換えるとデータを破壊してしまうため、この機能をオフにします</strong>。</p>
	<p>　通常は「ボーレート指定を上書きする」は必ずチェックした状態で使用してください。</p>
<h3 id="5">5. マルチCJR</h3>
	<p>■マルチCJRとは■</p>
	<p>通常の MSAVE では作成できない離れた領域（マシン語とユーザー定義文字領域、ユーザー定義領域1とユーザー定義領域2、テキスト VRAM 
	とアトリビュート VRAM など）を一つの CJR 
	ファイルにまとめたものです。<span class="auto-style1">ロード時の動作の違いから BASIC プログラムを含めることはできません。</span>あくまで MSAVE 
	したファイルを一つの CJR 
	にまとめたものであることに注意してください。</p>
	<p><img alt="" height="362" src="images/jr2r_5.png" width="497"></p>
	<p>1. MSAVE した CJR ファイルをリストボックスにドラッグ＆ドロップします。ファイルを削除するときは、選択して Delete 
	キーを押してください。複数ドロップすることができますが、BASIC 
	ファイル（＝SAVE したファイル）は書き出し時にエラーになります。</p>
	<p>2. マルチ CJR ファイル名と JR 用ファイル名を指定して書き出しを押してください。</p>
	<h3>6. その他</h3>

<p>1. 某エミュレータが吐き出す、メモリイメージファイルから、BASIC プログラムを抜き出し CJR 化します。</p>

<p>2. バイナリファイルを CJR 化し、MLOAD できるようにします。</p>

<p><img alt="" height="362" src="images/jr2r_6.png" width="497"></p>

<p>1. 某エミュにて BASIC プログラムを入力したら、[File] - [SaveRam] 
とすると、某エミュの実行ファイルと同じディレクトリに「ram.bin」なるファイルが作られます。これを「メモリイメージファイル」に指定し、「CJRに変換」を押すと、ファイルセーブダイアログが表示されるので、名前を指定して下さい。</p>

<p>2. Windows 
上などでユーザー定義文字データやマシン語プログラムを作成します。このファイルはベタのバイナリ形式とし、よけいな物は入れないでください。またバイナリエディタは各自で用意してください。</p>

<p>　入力 BIN ファイルに作成したバイナリファイルを指定し、MLOAD するスタートアドレス、JR 
用ファイル名を指定して下さい。ちなみにスタートアドレスはユーザー定義文字なら C000 など、マシン語なら 7000 などになります。</p>

<p>　「CJRに変換」を押すと、出力するCJR ファイル名を指定するダイアログが開くので、名前を指定して下さい。</p>

<p>
※　JR用のファイル名は、文字種などにどういった制限があるのかよくわからないので、ほとんどチェックしていません。英数字（とカナも使えるみたいだけど）など、無難な文字だけ使うようにしたほうが安心です。</p>

<hr>
<p style="text-align:center">［<a href="index.html">TOP PAGE</a>］</p>
</div>
</body>
</html>
